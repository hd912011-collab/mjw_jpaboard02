<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout.html}">

<div layout:fragment="content">
    <div class="card">
        <div class="card-body">
            <div class="card-title">게시판 글등록하기</div>
            <form action="/board/modify" method="post" enctype="multipart/form-data">
                <input type="hidden" name="bno" th:value="${board.bno}">
                <div class="mb-3">
                    <label class="form-label">Title</label>
                    <input type="text" name="title" class="form-control" th:value="${board.title}">
                </div>
                <div class="mb-3">
                    <label class="form-label">Content</label>
                    <textarea name="content" class="form-control" rows="3">[[${board.content}]]</textarea>
                </div>
                <span class="input-group-text">Upload Image</span>
                <div class="col" th:if="${board.boardImageDTOS !=null && board.boardImageDTOS.size()>0}">
                    <div class="container-fluid d-flex uploadResult" style="flex-wrap: wrap;"></div>
                    <div th:each="imgDTO:${board.boardImageDTOS}">
                        <div th:if="${imgDTO.image}">
                            <img class="m-3" th:src="|/upload/view/s_${imgDTO.uuid}_${imgDTO.filename}|">
                            <span>[[${imgDTO.filename}]]</span>
                        </div>
                        <div th:unless="${imgDTO.image}">
                            <img class="m-3" src="/images/file.jpg" width="100" height="100">
                            <span>[[${imgDTO.filename}]]</span>
                        </div>
                    </div>
                    <!--/*                    <div class="container-fluid d-flex uploadResult" style="flex-wrap: wrap">*/-->
                    <!--/*                        <img class="m-3" th:each="filename:${board.filenames}" th:src="|/upload/view/s_${filename}|">*/-->
                    <!--/*                    </div>*/-->
                </div>
                <div class="mb-3">
                    <label class="form-label">FileUpload</label>
                    <input type="file" name="files" class="form-control" multiple>
                </div>
                <div class="mb-3">
                    <button type="submit" class="btn btn-primary">Modify</button>
                    <a th:href="|@{/board/list}?${pageRequestDTO.getLink()}|">
                        <button type="button" class="btn btn-info">Board List</button>
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>